#!/bin/bash

# rust
rustup self update
rustup update
rustup install nightly
rustup component add rls
rustup component add rust-analysis
rustup component add rust-src
rustup component add rustfmt
rustup component add clippy
rustup completions zsh > ~/.zfunc/_rustup

cargo install racer
mkdir "${HOME}"/.zfunc

# script
nix-env --install ShellCheck

# haskell
nix-env --install stack
stack install apply-refact hlint stylish-haskell hasktags hoogle hindent

# ocaml
nix-env --install opam
opam init
opam config setup -a
opam install merlin utop ocp-indent
opam user-setup install

# elixir
nix-env --install elixir

# elm
nix-env --install elm

# go
nix-env --install go
nix-env --install delve

# javascript / web
nix-env --install nodejs
nix-env --install yarn
yarn global add typescript typescript-language-server
yarn global add prettier import-js
yarn global add vscode-html-languageserver-bin
yarn global add vscode-css-languageserver-bin

# python
nix-env --install python-2.7.16
nix-env --install python3-3.7.4
nix-env --install pipenv-2018.11.26
python3 -m ensurepip --default-pip --user
pip3 install --upgrade --user pip

pip3 install --user pynvim
pip3 install --user flake8
pip3 install --user yapf
pip3 install --user autoflake
pip3 install --user isort
pip3 install --user 'python-language-server[all]'
pip3 install --user pyls-isort
pip3 install --user pyls-mypy
pip3 install --user importmagic
pip3 install --user epc
pip3 install --user black

pip3 install --user bashate

# ruby
nix-env --install ruby
mkdir -p "${HOME}"/bin/gem
gem install solargraph
gem install pry
gem install sqlint

# crystal
nix-env --install crystal
nix-env --install icr

# c/c++
nix-env --install ccls

# jvm familiy
nix-env --install clojure
